import hashlib
from datetime import datetime

ADJECTIVES: tuple[str, ...] = (
    "amber",
    "azure",
    "bold",
    "brave",
    "bright",
    "brisk",
    "calm",
    "clear",
    "cool",
    "coral",
    "crisp",
    "dusk",
    "dusty",
    "early",
    "faded",
    "fair",
    "fast",
    "fern",
    "fiery",
    "fleet",
    "fresh",
    "frost",
    "gentle",
    "gilt",
    "golden",
    "grand",
    "green",
    "hazy",
    "icy",
    "jade",
    "keen",
    "light",
    "lunar",
    "misty",
    "pale",
    "pearl",
    "pine",
    "plain",
    "proud",
    "pure",
    "quiet",
    "rapid",
    "red",
    "ruby",
    "rusty",
    "sage",
    "sandy",
    "sharp",
    "silent",
    "silver",
    "slate",
    "sleek",
    "slim",
    "small",
    "smoky",
    "soft",
    "solar",
    "stark",
    "steel",
    "still",
    "stone",
    "storm",
    "sunny",
    "swift",
    "tawny",
    "teal",
    "thin",
    "tidal",
    "timber",
    "vivid",
    "warm",
    "wild",
    "windy",
)

NOUNS: tuple[str, ...] = (
    "ash",
    "bay",
    "bear",
    "birch",
    "bluff",
    "brook",
    "canyon",
    "cedar",
    "cliff",
    "cloud",
    "coast",
    "coral",
    "cove",
    "crane",
    "creek",
    "crow",
    "dawn",
    "delta",
    "dune",
    "eagle",
    "elm",
    "falcon",
    "fern",
    "field",
    "finch",
    "fjord",
    "flame",
    "flint",
    "fog",
    "fox",
    "frost",
    "glade",
    "grove",
    "hawk",
    "heath",
    "heron",
    "hill",
    "hollow",
    "isle",
    "lake",
    "lark",
    "leaf",
    "maple",
    "marsh",
    "meadow",
    "mesa",
    "moon",
    "moss",
    "oak",
    "owl",
    "peak",
    "pebble",
    "pine",
    "plain",
    "pond",
    "rain",
    "rapids",
    "raven",
    "reef",
    "ridge",
    "river",
    "rock",
    "sage",
    "sand",
    "shore",
    "sky",
    "snow",
    "spark",
    "spruce",
    "star",
    "stone",
    "storm",
    "stream",
    "sun",
    "swift",
    "thorn",
    "tide",
    "trail",
    "vale",
    "wave",
    "willow",
    "wind",
    "wolf",
    "wood",
)


def generate_run_name(timestamp: datetime) -> str:
    iso_str = timestamp.isoformat()
    hash_bytes = hashlib.sha256(iso_str.encode()).digest()

    adjective_idx = hash_bytes[0] % len(ADJECTIVES)
    noun_idx = hash_bytes[1] % len(NOUNS)

    adjective = ADJECTIVES[adjective_idx]
    noun = NOUNS[noun_idx]
    date_suffix = timestamp.strftime("%m%d")

    return f"{adjective}-{noun}-{date_suffix}"
